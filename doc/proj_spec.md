# 项目规范
## 工程目录结构
- /Github/necc_final_proj
  + doc    *存放相关说明文档*
  - lib    *存放html、css、js、image等文件资源*
    + html
    + css
    + js
    + img
  + mod    *组件与外部模块*
  - sample *展示样例*
    - parts  *阶段划分*
      + page *页面设计*
      + proc *本地处理*
      + com  *交互通信*
  + test   *测试代码*

## 命名规范
### 文件命名
1. 以蛇线分隔语义部分，如course_info.html，grid.css
2. JS组件，每个语义部分都首字母大写，如VideoUtil.js

### HTML 和 CSS
1. `ID`统一使用驼峰，且尽量少用；
2. `class`使用全小写以横杠`-`间隔，可用于语义分隔，其他细则如下：
   1. 布局(grid)使用`.g-`开头，如页面布局
   2. 模块(module)使用`.m-`开头，如轮播图
   3. 元件(unit)使用`.u-`开头，如内容卡片
   4. 功能(function)使用`.f-`开头，如清除浮动
   5. 状态使用`.z-`开头，如选中效果
   6. JS获取节点使用`.j-`开头，
   7. 相同语义不同序列，在后面加数字，如.m-list1
3. 对应特殊组件的特定`class`名应以组件文件名的大写部分开头，然后结合`class`规范的第6条，如`.vuj-`表示VideoUtil.js对应的组件

### JS
1. 函数或方法使用驼峰式
2. 局部变量使用前缀下划线`_`，所有变量以蛇线连接语义结构

## 注释规范
### HTML
1. 只在有主要功能的布局区域前写入注释表明功能模块位置，且只写开头，避免在节点内部书写，以免跨平台时影响JS获取DOM节点
2. 注意注释文本内容前后保留一个空格

### CSS
1. 单行注释，用于单条/多条CSS规则上面表示小功能块
  /* 切换状态 */
2. 块级注释，用于表示一个完整的布局功能实现
  /**
   * layout: 轮播图
   */
3. 属性声明后单行注释，特别注明某段属性声明的作用，以阅读者的引起注意，一般与JS交互逻辑配套
  margin: -20px 0 0 0;/* 对应某个JS交互需要 */
4. 注释文本内容左右各加一个空格

### JS
1. 代码后单行注释，特别说明某段代码逻辑，特别要注意的需以`*!`引起关注，使用`//`作为注释，并且要多留一个空格
2. 函数功能前，使用多行注释并且第一行多一个星号，后面每行都多一个空格，写明函数功能描述，参数说明；复杂功能用到了特定数据结构的必须要以多行形式写明数据结构中内容的意义，并以井号`#`作为说明开头
  /**
   * func [功能说明]
   * @param {[object]} options [查询参数对象]
   * @dependence [功能依赖某段代码/模块/组件]
   * @dataStructure [数据结构说明]
   * --- [
   * ------ 0: {
   * --------- name: name,
   * --------- list: [
   * ------------ 0: [],
   * ------------ 1: []
   * --------- ]
   * ------ }
   * --- ]
   * @return {[object]} elmNode [表示返回值]
   */
3. 某段执行代码上的单行注释，表示功能实现的阶段

## 使用细则
### HTML
1. 正确缩进，表明层级
2. HTML元素的属性(attribute)的对应值使用双引号
3. 除了置顶的`!DOCTYPE`是大写外，标签与属性通篇小写
4. 在自闭和标签后必须以`/>`结尾
5. 在`html`标签上添加`lang`，并且其值`zh-CN`对应简体中文
6. 在一个独立的`meta`上添加`charset="UTF-8"`属性，有助于页面正确解析
7. 文件引入：
  1. `link`和`script`标签都不需要设置`type`属性，除非`script`作为模板节点使用时，`type`为`text/template`
  2. `link`引入的CSS文件置于`head`标签内的靠后位置，但位于`style`元素的前面
  3. `script`统一至于`body`元素的最后面，并且注意对应交互逻辑排版先后加载顺序
  4. 兼容IE的外部JS引入，放在`head`元素的最后面
8. 标签中属性书写顺序：class, id, name, data-*, src, for, href, type, value, max-length, title, alt, disabled, ...
9. 属性与属性值之间只有等号`=`没有任何空格，多个属性间以一个空格隔开，最后一个属性的值与`>`不要有空格，除非是`/>`
10. 使用实体字符避免与HTML特殊字符冲突，如&copy;表示©
11. 标签正确闭合
12. 在资源性内容上加入描述文本，如img的alt属性，audio/video的说明文本

### CSS
1. 多行书写每条CSS规则
2. 属性值与前面的冒号保留一个空格，如`width: 10px;`
3. 每条属性声明后一定要以分号结尾`;`
4. 合写的属性值有分隔时，`,`跟随前一个值
5. 选择器`+`/`>`/`~`前后使用空格
6. 统一使用单引号，`url()`中的路劲不使用引号
7. 属性书写顺序：显示属性>自身属性>文本及修饰属性
8. 尽量不使用Hack
9. 媒体查询跟随对应功能块一起，而不是将所有的媒体查询代码放到一起或某个专门的文件中
10. `class`选择器有前缀(如：`.g-`)的放在无前缀的选择器前面
11. 将可以组成特定功能/模块/单元的CSS规则集合在一起，并加以注释

### JS
1. 单行代码使用以分号`;`结尾
2. 多元运算符前后保留空格，如：`a + b`
3. 所有语句分隔的逗号`,`都跟随前值代码，后面以一个空格隔开后节下一个代码
4. 代码块后保留一个空格，文件最后保留一个空格
5. 统一使用单引号，如有多层引号，最外面的是单引号，里面的用双引号
6. 作用域的的变量声明尽量提前到函数首部，用`var`声明，多个连续的声明用`,`分隔并换行
7. `if`/`else`/`for`/`while`/`do-while`/`switch`/`try-catch`等语句，无论内部有多少个执行语句，都要用`{}`
8. 不使用`undefined`对变量进行直接判断，而是使用`typeof`与`'undefined'`字符串判断
9. 避免使用相等操作符`==`/`!=`，而是使用全等操作符`===`/`!==`
10. 避免混用tab和空格，每行代码末尾无空白符
11. 对象字面量的分号`:`后面要有个空格，并且最后一个属性后面无逗号`,`
12. 

## 参考
网易代码规范：http://nec.netease.com/standard
代码规范：http://alloyteam.github.io/CodeGuide/
nodejs工程目录结构：https://nqdeng.github.io/7-days-nodejs/#2.4
经统计的GitHub JS代码规范：http://sideeffect.kr/popularconvention#javascript


# 优化处理
## 文件
1. 色彩丰富的图片使用jpg格式，其他图标用png8格式，图标合并为sprite图
2. 使用压缩工具，如：YUI Compressor
3. 使用sprite图生成工具，如：sprity

## HTML
1. 适当使用keywords和description，便于SEO
2. 使用<html lang="zh-CN">申明文档语言
3. 对meta标签的name属性设置author、keywords、description和robots
4. 减少不必要的HTML标签，增加简洁和可读性
5. 

## CSS
1. 避免使用@import的方式引入css文件
2. 使用简写属性，但要注意简写属性对独立属性的重置作用
3. 省略值为0的单位，比如：0px->0, 0%->0, 0.5->.5
4. 颜色值最短表示，比如：rgb(204, 204, 204)->#cccccc->#ccc
5. 尽可能使用最短的选择器
6. 能用CSS实现的表现效果，尽可能用CSS，而非JS
7. 类名语义化

## JS
1. 变量名/函数名语义化
2. 以最短而有明确语义的命名方式
3. 减少不必要的数据请求，如：登录后禁用登录按钮
4. 减少页面结构的重复加载
5. 适当使用innerHTML提升页面结构生成速度，但要避免频繁使用反而降低页面性能
6. 利用特定类名，结合模块或者组件封装，便于代码重用或交互傻瓜化